<!DOCTYPE html>
<html lang="en" xml:lang="en">

<head>
    <title>Pathfinder</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/style.css" type="text/css" />
</head>

<body>
    <script>
        var questionSelections = new Array(2);
        window.addEventListener("load", () => {
            document.getElementById("allQuestionsContainer").addEventListener("click", questionRatingSelector);
            document.getElementById("submitRatingsButton").addEventListener("click", calculateRatings);
        });
        function questionRatingSelector(e) {
            // TODO: Make this safer
            var selectedAttribute = parseInt(e.target.parentNode.getAttribute("data-questionNumber"));
            var selectedRating = parseInt(e.target.textContent);
            if (!selectedAttribute || !selectedAttribute) {
                return;
            }
            var selectedQuestion = selectedAttribute - 1;
            
            if (questionSelections[selectedQuestion]) {
                const divQuestion = document.querySelectorAll('div[data-questionNumber="' + (selectedQuestion + 1) + '"]')[0];
                const previousRatingNode = divQuestion.querySelectorAll("p")[questionSelections[selectedQuestion] - 1];
                previousRatingNode.classList.remove("ratingSelected");
            }
            e.target.classList.add("ratingSelected");
            questionSelections[selectedQuestion] = selectedRating;
        }
        function calculateRatings(e) {
            var totalPoints = questionSelections.length * 10;
            var actualPoints = 0;
            var questionCount = 0;
            questionSelections.forEach((element) => {
                questionCount++;
                actualPoints += element;
            });
            if (questionCount < questionSelections.length) {
                document.getElementById("resultText").textContent = "Please rate all questions";
                return;
            }
            var text = (actualPoints / totalPoints) > 0.5 ? "Cyber Security might be the right course for you." : "It seems like Cyber Security might not be a perfect fit."
            
            document.getElementById("resultText").textContent = text;
        }
    </script>
    <header>
        <img src="images/logo.svg" width="100rem" height="100rem" class="logo" alt="Logo" />
        <nav>
            <div class="navbar">
                <div class="container nav-container">
                    <input class="checkbox" type="checkbox" />
                    <div class="hamburger-lines">
                        <span class="line line1"></span>
                        <span class="line line2"></span>
                        <span class="line line3"></span>
                    </div>
                </div>
                <div class="menu-items">
                    <ul class="navbar">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="">About us</a></li>
                        <li><a href="">Contact</a></li>
                        <li><a href="">Login / Register</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <h1 class="headlineCenter">Eligibility</h1>
        <p>
            On this page you can check the whether <i>Cyber Security</i> is the right course for you.
            Just answer the following questions and check the result.
        </p>
        <div id="allQuestionsContainer">
            <div class="questionContainer">
                <p><b>1:</b> How strong is your understanding of mathematical problems? Scale 1- 10</p>
                <div class="questionRating" data-questionNumber="1">
                    <p class="questionSelected">1</p>
                    <p class="questionSelected">2</p>
                    <p class="questionSelected">3</p>
                    <p class="questionSelected">4</p>
                    <p class="questionSelected">5</p>
                    <p class="questionSelected">6</p>
                    <p class="questionSelected">7</p>
                    <p class="questionSelected">8</p>
                    <p class="questionSelected">9</p>
                    <p class="questionSelected">10</p>
                </div>
            </div>
            <div class="questionContainer">
                <p><b>2:</b> How much knowledge do you have regarding networks? Scale 1- 10</p>
                <div class="questionRating" data-questionNumber="2">
                    <p class="questionSelected">1</p>
                    <p class="questionSelected">2</p>
                    <p class="questionSelected">3</p>
                    <p class="questionSelected">4</p>
                    <p class="questionSelected">5</p>
                    <p class="questionSelected">6</p>
                    <p class="questionSelected">7</p>
                    <p class="questionSelected">8</p>
                    <p class="questionSelected">9</p>
                    <p class="questionSelected">10</p>
                </div>
            </div>
            <div class="questionContainer">
                <p><b>3:</b> Rate your experience in working with networks. Scale 1 - 10</p>
                <div class="questionRating" data-questionNumber="3">
                    <p class="questionSelected">1</p>
                    <p class="questionSelected">2</p>
                    <p class="questionSelected">3</p>
                    <p class="questionSelected">4</p>
                    <p class="questionSelected">5</p>
                    <p class="questionSelected">6</p>
                    <p class="questionSelected">7</p>
                    <p class="questionSelected">8</p>
                    <p class="questionSelected">9</p>
                    <p class="questionSelected">10</p>
                </div>
            </div>
            <div class="questionContainer">
                <p><b>4:</b> Rate the following statement: Systems are becoming more complex with time and require more and more maintenance in order to keep them secure. Scale 1 - 10</p>
                <div class="questionRating" data-questionNumber="4">
                    <p class="questionSelected">1</p>
                    <p class="questionSelected">2</p>
                    <p class="questionSelected">3</p>
                    <p class="questionSelected">4</p>
                    <p class="questionSelected">5</p>
                    <p class="questionSelected">6</p>
                    <p class="questionSelected">7</p>
                    <p class="questionSelected">8</p>
                    <p class="questionSelected">9</p>
                    <p class="questionSelected">10</p>
                </div>
            </div>
            <div class="questionContainer">
                <p><b>5:</b> Cryptography is an interesting area of expertise. Scale 1-10</p>
                <div class="questionRating" data-questionNumber="5">
                    <p class="questionSelected">1</p>
                    <p class="questionSelected">2</p>
                    <p class="questionSelected">3</p>
                    <p class="questionSelected">4</p>
                    <p class="questionSelected">5</p>
                    <p class="questionSelected">6</p>
                    <p class="questionSelected">7</p>
                    <p class="questionSelected">8</p>
                    <p class="questionSelected">9</p>
                    <p class="questionSelected">10</p>
                </div>
            </div>
            <div class="questionContainer">
                <p><b>6:</b> Cryptography is an interesting area of expertise. Scale 1-10</p>
                <div class="questionRating" data-questionNumber="6">
                    <p class="questionSelected">1</p>
                    <p class="questionSelected">2</p>
                    <p class="questionSelected">3</p>
                    <p class="questionSelected">4</p>
                    <p class="questionSelected">5</p>
                    <p class="questionSelected">6</p>
                    <p class="questionSelected">7</p>
                    <p class="questionSelected">8</p>
                    <p class="questionSelected">9</p>
                    <p class="questionSelected">10</p>
                </div>
            </div>
        </div>
        <button id="submitRatingsButton" class="defaultButton">Calculate</button>
        <p id="resultText" class="boldText"></p>
    </main>
    <footer>
        <ul class="footerLinks">
            <li><a href="">Contact us</a></li>
            <li><a href="">About us</a></li>
        </ul>
        <div class="footerLogos">
            <a href=""><img class="footerLogoImg" src="images/facebook-logo.svg" alt="Facebook logo" /></a>
            <a href=""><img class="footerLogoImg" src="images/twitter-logo.svg" alt="Twitter logo" /></a>
            <a href=""><img class="footerLogoImg" src="images/whatsapp-logo.svg" alt="Whatsapp logo" /></a>
            <a href=""><img class="footerLogoImg" src="images/instagram-logo.svg" alt="Instagram logo" /></a>
        </div>
    </footer>
</body>

</html>